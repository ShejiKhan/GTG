// Hamburger Menu Toggle const hamburger = document.getElementById("hamburger");const navMenu = document.getElementById("navMenu");if (hamburger && navMenu) {hamburger.addEventListener("click",() => {hamburger.classList.toggle("active");navMenu.classList.toggle("active");});// Close menu when clicking outside document.addEventListener("click",(e) => {if (!hamburger.contains(e.target) && !navMenu.contains(e.target)) {hamburger.classList.remove("active");navMenu.classList.remove("active");}});} // Header Scroll Effect const header = document.querySelector(".header");window.addEventListener("scroll",() => {if (window.scrollY > 50) {header.classList.add("scrolled");} else {header.classList.remove("scrolled");}});// Dropdown Menu Toggle const dropdown = document.querySelector(".dropdown");const dropdownToggle = document.querySelector(".dropdown-toggle");if (dropdown && dropdownToggle) {dropdownToggle.addEventListener("click",(e) => {e.preventDefault();dropdown.classList.toggle("active");});// Close dropdown when clicking outside document.addEventListener("click",(e) => {if (!dropdown.contains(e.target)) {dropdown.classList.remove("active");}});// Close dropdown when clicking on a dropdown item const dropdownItems = dropdown.querySelectorAll(".dropdown-menu a");dropdownItems.forEach((item) => {item.addEventListener("click",() => {dropdown.classList.remove("active");// Close mobile menu if open if (hamburger && navMenu) {hamburger.classList.remove("active");navMenu.classList.remove("active");}});});} // Product Gallery Functionality const mainImage = document.getElementById("mainImage");const prevArrow = document.getElementById("prevArrow");const nextArrow = document.getElementById("nextArrow");const thumbnails = document.querySelectorAll(".thumbnail");const dots = document.querySelectorAll(".dot");// Product images array (replace with actual image paths from Figma) const productImages = [ "/assets/img/Slider_1.png","/assets/product-main-1.svg","/assets/product-main-2.svg","/assets/product-main-3.svg","/assets/product-main-4.svg","/assets/product-main-1.svg","/assets/product-main-2.svg","/assets/product-main-3.svg",];let currentImageIndex = 0;// Function to update main image function updateMainImage(index) {if (!mainImage) {console.error("Main image element not found");return;} if (index >= 0 && index < productImages.length) {currentImageIndex = index;mainImage.src = productImages[index];// Update thumbnails thumbnails.forEach((thumb,i) => {if (i === index) {thumb.classList.add("active");} else {thumb.classList.remove("active");}});// Update dots dots.forEach((dot,i) => {if (i === index) {dot.classList.add("active");} else {dot.classList.remove("active");}});} else {console.error("Invalid image index:",index);}} // Previous arrow click if (prevArrow) {prevArrow.addEventListener("click",() => {const newIndex = currentImageIndex === 0 ? productImages.length - 1 : currentImageIndex - 1;updateMainImage(newIndex);});} // Next arrow click if (nextArrow) {nextArrow.addEventListener("click",() => {const newIndex = currentImageIndex === productImages.length - 1 ? 0 : currentImageIndex + 1;updateMainImage(newIndex);});} // Thumbnail clicks thumbnails.forEach((thumbnail,index) => {thumbnail.addEventListener("click",() => {// Use data-index if available,otherwise use forEach index const thumbIndex = thumbnail.getAttribute("data-index") ? parseInt(thumbnail.getAttribute("data-index")) : index;updateMainImage(thumbIndex);});});// Dot clicks dots.forEach((dot,index) => {dot.addEventListener("click",() => {// Use data-index if available,otherwise use forEach index const dotIndex = dot.getAttribute("data-index") ? parseInt(dot.getAttribute("data-index")) : index;updateMainImage(dotIndex);});});// Auto-play gallery (optional - can be removed if not needed) let autoPlayInterval;function startAutoPlay() {autoPlayInterval = setInterval(() => {const newIndex = currentImageIndex === productImages.length - 1 ? 0 : currentImageIndex + 1;updateMainImage(newIndex);},5000);} function stopAutoPlay() {if (autoPlayInterval) {clearInterval(autoPlayInterval);}} // Pause auto-play on hover const galleryContainer = document.querySelector(".product-gallery");if (galleryContainer) {galleryContainer.addEventListener("mouseenter",stopAutoPlay);galleryContainer.addEventListener("mouseleave",startAutoPlay);} // Radio Button Functionality for Add to Cart const fragranceRadios = document.querySelectorAll('input[name="fragrance"]');const purchaseTypeRadios = document.querySelectorAll( 'input[name="purchaseType"]' );const addToCartBtn = document.getElementById("addToCartBtn");// Generate cart link based on selections function updateAddToCartLink() {const selectedFragrance = document.querySelector('input[name="fragrance"]:checked')?.value || "floral";const selectedPurchaseType = document.querySelector('input[name="purchaseType"]:checked')?.value || "single";// Generate 9 different variations const cartLinks = {"floral-single": "https://example.com/cart/add?fragrance=floral&type=single","floral-double": "https://example.com/cart/add?fragrance=floral&type=double","floral-triple": "https://example.com/cart/add?fragrance=floral&type=triple","woody-single": "https://example.com/cart/add?fragrance=woody&type=single","woody-double": "https://example.com/cart/add?fragrance=woody&type=double","woody-triple": "https://example.com/cart/add?fragrance=woody&type=triple","citrus-single": "https://example.com/cart/add?fragrance=citrus&type=single","citrus-double": "https://example.com/cart/add?fragrance=citrus&type=double","citrus-triple": "https://example.com/cart/add?fragrance=citrus&type=triple",};const linkKey = `${selectedFragrance}-${selectedPurchaseType}`;const newLink = cartLinks[linkKey] || cartLinks["floral-single"];if (addToCartBtn) {addToCartBtn.href = newLink;}} // Add event listeners to radio buttons fragranceRadios.forEach((radio) => {radio.addEventListener("change",updateAddToCartLink);});purchaseTypeRadios.forEach((radio) => {radio.addEventListener("change",updateAddToCartLink);});// Initialize cart link updateAddToCartLink();// Expandable Accordion Sections (generic across page) const allAccordionContainers = document.querySelectorAll(".accordion_section");// Smoothly expand/collapse by setting max-height to scrollHeight function setSectionHeight(section,expand) {const content = section.querySelector(".subscription-content");if (!content) return;if (expand) {content.style.maxHeight = `${content.scrollHeight}px`;content.style.padding = "1rem";} else {content.style.maxHeight = "0px";content.style.padding = "0 1rem";}} function toggleAccordion(section,exclusive = true) {if (!section) return;const isActive = section.classList.contains("active");if (isActive) return;// Do nothing if already active // Close siblings when exclusive if (exclusive) {const parent = section.parentElement;if (parent) {parent.querySelectorAll(".subscription-section.active").forEach((s) => {s.classList.remove("active");const t = s.querySelector(".subscription-toggle");if (t) t.textContent = "+";setSectionHeight(s,false);});}} section.classList.add("active");const toggleEl = section.querySelector(".subscription-toggle");if (toggleEl) toggleEl.textContent = "−";setSectionHeight(section,true);} // Initialize each accordion container independently allAccordionContainers.forEach((container) => {const sections = container.querySelectorAll(".subscription-section");sections.forEach((section,idx) => {const header = section.querySelector(".subscription-header");if (header) {header.addEventListener("click",() => toggleAccordion(section,true));} // Prepare collapsed state setSectionHeight(section,false);// Activate the first section by default in each container if (idx === 0) {section.classList.add("active");const toggleEl = section.querySelector(".subscription-toggle");if (toggleEl) toggleEl.textContent = "−";setSectionHeight(section,true);}});});// Percentage Counter Animation const percentageSection = document.getElementById("percentageSection");const percentageNumbers = document.querySelectorAll(".percentage-number");function animateCounter(element,target,duration = 2000) {const start = 0;const increment = target / (duration / 16);// 60fps let current = start;const timer = setInterval(() => {current += increment;if (current >= target) {element.textContent = target + "%";clearInterval(timer);} else {element.textContent = Math.floor(current) + "%";}},16);} // Intersection Observer for counter animation const observerOptions = {threshold: 0.5,rootMargin: "0px",};const observer = new IntersectionObserver((entries) => {entries.forEach((entry) => {if (entry.isIntersecting) {const target = parseInt(entry.target.getAttribute("data-target"));if (!entry.target.classList.contains("animated")) {entry.target.classList.add("animated");animateCounter(entry.target,target);}}});},observerOptions);// Observe all percentage numbers percentageNumbers.forEach((number) => {observer.observe(number);});// Smooth scrolling for anchor links document.querySelectorAll('a[href^="#"]').forEach((anchor) => {anchor.addEventListener("click",function (e) {e.preventDefault();const target = document.querySelector(this.getAttribute("href"));if (target) {target.scrollIntoView({behavior: "smooth",block: "start",});// Close mobile menu if open if (hamburger && navMenu) {hamburger.classList.remove("active");navMenu.classList.remove("active");}}});});// Initialize auto-play for gallery startAutoPlay();/** * Subscription Selector Logic * Handles toggling between Single and Double subscription modes */ document.addEventListener("DOMContentLoaded",() => {const options = document.querySelectorAll(".sub-option");/** * Updates the UI to reflect the selected subscription * @param {HTMLElement} selectedElement - The option clicked by the user */ const toggleSubscription = (selectedElement) => {// 1. Remove active state from all options options.forEach((opt) => {opt.classList.remove("active");opt.setAttribute("aria-checked","false");});// 2. Add active state to selected option selectedElement.classList.add("active");selectedElement.setAttribute("aria-checked","true");// Update cart link updateSubscriptionCartLink();// Note: The content visibility is handled by CSS classes (.active .content-drawer) // providing a smooth height/opacity transition.};// Attach click events options.forEach((option) => {option.addEventListener("click",() => toggleSubscription(option));// Accessibility: Support "Enter" or "Space" keys option.addEventListener("keydown",(e) => {if (e.key === "Enter" || e.key === " ") {e.preventDefault();toggleSubscription(option);}});});// Nested Selection Logic (Fragrance Cards) const fragCards = document.querySelectorAll(".fragrance-card");fragCards.forEach((card) => {card.addEventListener("click",(e) => {// Stop propagation to prevent triggering the main drawer toggle e.stopPropagation();// Handle sibling highlighting const siblings = card.parentElement.querySelectorAll(".fragrance-card");siblings.forEach((s) => s.classList.remove("active"));card.classList.add("active");// Update cart link updateSubscriptionCartLink();});});// Initialize cart link updateSubscriptionCartLink();});// Update cart link for subscription function updateSubscriptionCartLink() {const activeOption = document.querySelector(".sub-option.active");if (!activeOption) return;const isSingle = activeOption.id === "option-single";const isDouble = activeOption.id === "option-double";let link = "https://example.com/cart/add?";if (isSingle) {const selectedFrag = activeOption.querySelector('input[name="frag-single"]:checked')?.value || "original";link += `type=single&frag=${selectedFrag}`;} else if (isDouble) {const frag1 = activeOption.querySelector('input[name="frag1"]:checked')?.value || "original";const frag2 = activeOption.querySelector('input[name="frag2"]:checked')?.value || "original";link += `type=double&frag1=${frag1}&frag2=${frag2}`;} const addToCartBtn = document.getElementById("addToCartBtn");if (addToCartBtn) {addToCartBtn.href = link;}} 
